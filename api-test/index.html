<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Search API Test</title>
    <style>
        body { font-family: Arial, sans-serif; }
        .result { margin: 10px 0; }
        .result a { text-decoration: none; }
        .result a:hover { text-decoration: underline; }
    </style>
</head>
<body>
    <h1>Search API Test</h1>
    <input type="text" id="searchInput" placeholder="Enter search term..." />
    <button id="searchButton">Search</button>
    <div id="results"></div>

    <script>
        document.getElementById('searchButton').addEventListener('click', function() {
            const query = document.getElementById('searchInput').value;
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = ''; // Clear previous results

            if (query) {
                // Fetch results from the PHP script
                fetch(`phpcodebot.tinny.io?q=${encodeURIComponent(query)}`)
                    .then(response => response.json())
                    .then(data => {
                        if (data.error) {
                            resultsDiv.innerHTML = `<p>${data.error}</p>`;
                        } else {
                            for (const category in data) {
                                const categoryDiv = document.createElement('div');
                                categoryDiv.innerHTML = `<h3>${category}</h3>`;
                                data[category].forEach(item => {
                                    const resultDiv = document.createElement('div');
                                    resultDiv.className = 'result';
                                    resultDiv.innerHTML = `<a href="${item.url}" target="_blank">${item.title}</a>: ${item.description}`;
                                    categoryDiv.appendChild(resultDiv);
                                });
                                resultsDiv.appendChild(categoryDiv);
                            }
                        }
                    })
                    .catch(error => {
                        console.error('Error fetching search results:', error);
                    });
            } else {
                resultsDiv.innerHTML = '<p>Please enter a search term.</p>';
            }
        });
    </script>
</body>
</html>
